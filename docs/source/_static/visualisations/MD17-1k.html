<div class="viz"><X3D width="300px"; height="300px";>

<!--Inserting Generated X3D Scene-->
<scene id="atoms-scene">
  <viewpoint position="0, 0, 17.434831194">
    <group/>
  </viewpoint>
  <transform rotation="0, 1, 0, 0.1" id="atoms-rotation">
    <transform translation="-3.962461635 -2.4456776000000002 -3.10270366">
      <group>
        <group/>
        <group>
          <transform translation="6.37279344 1.3822141900000002 2.8658070700000002">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.033628299999999 3.47924478 1.48914856">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="6.91775044 1.9776436800000001 1.6542761000000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="6.19877787 2.92421626 0.9058145900000003">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.9804014699999994 3.94342051 3.72354143">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.1677800199999995 1.89687494 3.38384957">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.48951822 2.87716182 2.6294000200000003">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.87820828 0.10000000000000009 4.86464737">
            <shape>
              <appearance>
                <material diffuseColor="1.0 0.051 0.051"/>
              </appearance>
              <sphere radius="0.66"/>
            </shape>
          </transform>
          <transform translation="1.7388564299999998 2.7628385900000003 1.83350973">
            <shape>
              <appearance>
                <material diffuseColor="1.0 0.051 0.051"/>
              </appearance>
              <sphere radius="0.66"/>
            </shape>
          </transform>
          <transform translation="3.7320583199999997 2.0586176500000004 5.38972082">
            <shape>
              <appearance>
                <material diffuseColor="1.0 0.051 0.051"/>
              </appearance>
              <sphere radius="0.66"/>
            </shape>
          </transform>
          <transform translation="4.5976406999999995 1.2799814600000001 4.62618933">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.9907783399999994 3.3310350900000003 2.85316906">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.3705994899999996 3.6332597700000004 3.20471493">
            <shape>
              <appearance>
                <material diffuseColor="1.0 0.051 0.051"/>
              </appearance>
              <sphere radius="0.66"/>
            </shape>
          </transform>
          <transform translation="3.5365446499999997 1.3507187400000003 6.10540732">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="6.84097869 0.6189515300000001 3.43495724">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="4.42032167 4.2582617 1.16160546">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="7.824923269999999 1.56622042 1.2578134900000002">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="6.74997578 3.4477441100000004 0.10000000000000009">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="1.4727245299999998 4.7913552 4.3500067300000005">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="0.09999999999999964 4.1828781500000005 3.1904291000000002">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="0.7686003499999998 3.25381405 4.51695951">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
        </group>
      </group>
    </transform>
  </transform>
</scene>
<!--End of Inserted Scene-->

</X3D>
</div><script>
const rotation = document.getElementById("atoms-rotation");
// get the viz div
const scene = document.getElementsByTagName("x3d")[0];

// stop rotating when the scene is clicked
// if its a long-press, the rotation should continue afterwards
// otherwise, toggle the rotation
let rotating = true;
let start;
let was_rotating_before_click;

scene.addEventListener("mousedown", function() {
    was_rotating_before_click = rotating;
    rotating = false;
    start = Date.now();

    scene.addEventListener("mouseup", function() {
        if (Date.now() - start < 200) {
            // short click: toggle rotation
            rotating = !rotating;
        } else {
            // long click: resume previous rotation
            rotating = was_rotating_before_click;
        }
    });
});

window.setInterval(function() {
    if (!rotating) return;
    // turn `x, y, z, angle` into `x, y, z, angle + 0.1`
    const parts = rotation.getAttribute("rotation").split(", ");
    parts[3] = String(parseFloat(parts[3]) + 0.007);
    rotation.setAttribute("rotation", parts.join(", "));
}, 25);
</script>
