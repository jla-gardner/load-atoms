<div class="viz"><X3D width="300px"; height="300px";>

<!--Inserting Generated X3D Scene-->
<scene id="atoms-scene">
  <viewpoint position="0, 0, 17.8140732">
    <group/>
  </viewpoint>
  <transform rotation="0, 1, 0, 0.1" id="atoms-rotation">
    <transform translation="-4.048653 -4.048653 -4.048653">
      <group>
        <group>
          <transform translation="0 0 0">
            <shape>
              <appearance>
                <material diffuseColor="0 0 0"/>
              </appearance>
              <lineset vertexCount="5">
                <coordinate point="0 0 0 8.097306 0.0 0.0 8.097306 8.097306 0.0 0.0 8.097306 0.0 0 0 0"/>
              </lineset>
            </shape>
          </transform>
          <transform translation="0.0 0.0 8.097306">
            <shape>
              <appearance>
                <material diffuseColor="0 0 0"/>
              </appearance>
              <lineset vertexCount="5">
                <coordinate point="0 0 0 8.097306 0.0 0.0 8.097306 8.097306 0.0 0.0 8.097306 0.0 0 0 0"/>
              </lineset>
            </shape>
          </transform>
          <transform translation="0 0 0">
            <shape>
              <appearance>
                <material diffuseColor="0 0 0"/>
              </appearance>
              <lineset vertexCount="5">
                <coordinate point="0 0 0 8.097306 0.0 0.0 8.097306 0.0 8.097306 0.0 0.0 8.097306 0 0 0"/>
              </lineset>
            </shape>
          </transform>
          <transform translation="0.0 8.097306 0.0">
            <shape>
              <appearance>
                <material diffuseColor="0 0 0"/>
              </appearance>
              <lineset vertexCount="5">
                <coordinate point="0 0 0 8.097306 0.0 0.0 8.097306 0.0 8.097306 0.0 0.0 8.097306 0 0 0"/>
              </lineset>
            </shape>
          </transform>
        </group>
        <group>
          <transform translation="1.3418045800000011 4.3675573000000005 6.85690399">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.61079227 5.32007579 0.618205020000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.80738677 1.9514750399999992 4.7486327100000025">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="2.6019073399999986 4.5970511499999995 6.17226057">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.9709512500000006 6.448637820000001 8.07966197">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.3079243500000017 4.309953060000002 2.4269731400000016">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.29884356 1.4036517999999978 5.950783060000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="2.688192230000002 0.35362555 7.40114012">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="2.0805461 2.8899609 1.8699351700000002">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="2.610587649999999 1.8139746800000018 7.72303232">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="8.023418079999995 0.26709773999999964 6.746813010000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.8751082500000008 3.0233154300000002 2.7770763600000024">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.6212459 3.018926689999999 7.94393493">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.23852234000000003 6.1764549700000035 0.7219720000000018">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.52253864 3.598863849999999 5.94688825">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.7918609399999985 6.841438130000001 5.46048308">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="6.831697070000001 1.2983139499999987 1.5933797800000014">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.8008640499999989 6.418175749999999 4.44025491">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.94169788 2.00492535 2.5003428299999984">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.3755909200000005 1.3051885600000008 3.617001810000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.9507565699999994 0.25285456999999995 6.6018145499999985">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.62469096 0.5221142900000025 5.51160137">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="6.6778239699999995 5.91022365 6.5522023600000034">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.34410312 7.46557038 1.54660974">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.746976480000001 1.9165999400000013 3.6756991799999983">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.5976919300000025 3.33266491 1.9274827200000002">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.41254264 4.02589147 0.1205203">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.935033789999999 2.9329252100000005 0.50893188">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="7.80827266 5.524087420000001 4.39643229">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.23087477 3.9662062300000027 1.04963758">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.771290069999999 7.03668037 6.21571071">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="7.06676187 6.271460660000001 8.06343497">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.9982818500000015 5.779354990000001 0.89507621">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.8217826800000005 2.4960512600000007 6.941941889999999">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.1826380300000006 3.651601600000002 2.093250769999999">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="7.207800740000002 8.05298944 1.955977140000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.60112409 7.199258080000001 6.98710867">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="2.75805579 5.6831509 5.243402400000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.32331733000000057 1.8089543599999987 5.009074460000003">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.16403151 3.284518329999999 4.68789482">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.85704054 4.519519440000001 2.9891528999999992">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="5.165514420000003 7.981603590000001 3.2585340800000004">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.8198695200000001 2.6497947999999987 0.49872117">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.88654493 5.75675541 4.3795899">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.7850614000000005 7.73911357 2.81656692">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="7.461983270000001 5.04858122 5.685790619999998">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.136282050000001 7.014323710000003 3.88442344">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="6.8826129300000005 1.9352399400000022 0.32513113">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.6668893100000006 3.705262449999999 3.3255959599999985">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="7.559944480000001 1.604464989999998 7.263761220000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.1833079100000001 0.5909009100000024 3.35095673">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.04898059999999958 3.9908382400000004 6.25584096">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.071427429999999 7.7658913599999995 4.44631979">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="2.868891709999999 7.809236240000001 1.792719259999998">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="6.28143655 5.79241594 2.348971790000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="7.0068418 7.32632101 6.98660663">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.5155889600000032 7.98561176 2.1593166899999994">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.1195762100000004 7.473675780000001 0.44186189000000003">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.6988136999999986 4.841614079999999 1.0862617000000019">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="7.88095408 2.567194189999999 6.074736620000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="7.268700579999994 4.98091203 3.1705325500000012">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.60135891 4.62632291 3.8991119499999995">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="6.20746766 7.26795563 2.57963165">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.4760822000000018 7.910339200000001 6.51415312">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
        </group>
      </group>
    </transform>
  </transform>
</scene>
<!--End of Inserted Scene-->

</X3D>
</div><script>
const rotation = document.getElementById("atoms-rotation");
// get the viz div
const scene = document.getElementsByTagName("x3d")[0];

// stop rotating when the scene is clicked
// if its a long-press, the rotation should continue afterwards
// otherwise, toggle the rotation
let rotating = true;
let start;
let was_rotating_before_click;

scene.addEventListener("mousedown", function() {
    was_rotating_before_click = rotating;
    rotating = false;
    start = Date.now();

    scene.addEventListener("mouseup", function() {
        if (Date.now() - start < 200) {
            // short click: toggle rotation
            rotating = !rotating;
        } else {
            // long click: resume previous rotation
            rotating = was_rotating_before_click;
        }
    });
});

window.setInterval(function() {
    if (!rotating) return;
    // turn `x, y, z, angle` into `x, y, z, angle + 0.1`
    const parts = rotation.getAttribute("rotation").split(", ");
    parts[3] = String(parseFloat(parts[3]) + 0.007);
    rotation.setAttribute("rotation", parts.join(", "));
}, 25);
</script>
