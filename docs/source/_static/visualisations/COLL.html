<div class="viz"><X3D width="300px"; height="300px";>

<!--Inserting Generated X3D Scene-->
<scene id="atoms-scene">
  <viewpoint position="0, 0, 12.460394804000003">
    <group/>
  </viewpoint>
  <transform rotation="0, 1, 0, 0.1" id="atoms-rotation">
    <transform translation="-2.8319079100000004 -2.004169095 -1.6178198300000002">
      <group>
        <group/>
        <group>
          <transform translation="2.55147811 2.89508539 0.5843337300000002">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.9233999300000004 3.01133758 1.6974814400000002">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="0.9983476300000003 2.55224343 2.6144331800000002">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="1.0860156900000002 1.45856944 3.13563966">
            <shape>
              <appearance>
                <material diffuseColor="1.0 0.051 0.051"/>
              </appearance>
              <sphere radius="0.66"/>
            </shape>
          </transform>
          <transform translation="0.10000000000000023 3.31059151 2.71649005">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="4.8121754 2.61090283 2.1634686000000003">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="4.39446977 3.28196558 3.09015493">
            <shape>
              <appearance>
                <material diffuseColor="1.0 0.051 0.051"/>
              </appearance>
              <sphere radius="0.66"/>
            </shape>
          </transform>
          <transform translation="5.56381582 3.08793442 1.44226468">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="2.4950282500000003 0.10000000000000009 1.1284792600000002">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
          <transform translation="4.16945604 1.41326011 1.76849988">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="3.3376845600000005 0.5333950599999999 1.6001524900000001">
            <shape>
              <appearance>
                <material diffuseColor="0.565 0.565 0.565"/>
              </appearance>
              <sphere radius="0.76"/>
            </shape>
          </transform>
          <transform translation="2.7078761700000005 3.9083381900000003 0.10000000000000009">
            <shape>
              <appearance>
                <material diffuseColor="1.0 1.0 1.0"/>
              </appearance>
              <sphere radius="0.31"/>
            </shape>
          </transform>
        </group>
      </group>
    </transform>
  </transform>
</scene>
<!--End of Inserted Scene-->

</X3D>
</div><script>
const rotation = document.getElementById("atoms-rotation");
// get the viz div
const scene = document.getElementsByTagName("x3d")[0];

// stop rotating when the scene is clicked
// if its a long-press, the rotation should continue afterwards
// otherwise, toggle the rotation
let rotating = true;
let start;
let was_rotating_before_click;

scene.addEventListener("mousedown", function() {
    was_rotating_before_click = rotating;
    rotating = false;
    start = Date.now();

    scene.addEventListener("mouseup", function() {
        if (Date.now() - start < 200) {
            // short click: toggle rotation
            rotating = !rotating;
        } else {
            // long click: resume previous rotation
            rotating = was_rotating_before_click;
        }
    });
});

window.setInterval(function() {
    if (!rotating) return;
    // turn `x, y, z, angle` into `x, y, z, angle + 0.1`
    const parts = rotation.getAttribute("rotation").split(", ");
    parts[3] = String(parseFloat(parts[3]) + 0.007);
    rotation.setAttribute("rotation", parts.join(", "));
}, 25);
</script>
