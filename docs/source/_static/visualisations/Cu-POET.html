<div class="viz"><X3D width="300px"; height="300px";>

<!--Inserting Generated X3D Scene-->
<scene id="atoms-scene">
  <viewpoint position="0, 0, 17.926075200000003">
    <group/>
  </viewpoint>
  <transform rotation="0, 1, 0, 0.1" id="atoms-rotation">
    <transform translation="-3.8102875 -3.7281690000000003 -3.734247">
      <group>
        <group>
          <transform translation="0 0 0">
            <shape>
              <appearance>
                <material diffuseColor="0 0 0"/>
              </appearance>
              <lineset vertexCount="5">
                <coordinate point="0 0 0 7.620575 -0.345939 -0.535869 7.620575 7.456338000000001 0.132409 0.0 7.802277 0.668278 0 0 0"/>
              </lineset>
            </shape>
          </transform>
          <transform translation="-0.0 -0.0 7.336085">
            <shape>
              <appearance>
                <material diffuseColor="0 0 0"/>
              </appearance>
              <lineset vertexCount="5">
                <coordinate point="0 0 0 7.620575 -0.345939 -0.535869 7.620575 7.456338000000001 0.132409 0.0 7.802277 0.668278 0 0 0"/>
              </lineset>
            </shape>
          </transform>
          <transform translation="0 0 0">
            <shape>
              <appearance>
                <material diffuseColor="0 0 0"/>
              </appearance>
              <lineset vertexCount="5">
                <coordinate point="0 0 0 7.620575 -0.345939 -0.535869 7.620575 -0.345939 6.800216 -0.0 -0.0 7.336085 0 0 0"/>
              </lineset>
            </shape>
          </transform>
          <transform translation="0.0 7.802277 0.668278">
            <shape>
              <appearance>
                <material diffuseColor="0 0 0"/>
              </appearance>
              <lineset vertexCount="5">
                <coordinate point="0 0 0 7.620575 -0.345939 -0.535869 7.620575 -0.345939 6.800216 -0.0 -0.0 7.336085 0 0 0"/>
              </lineset>
            </shape>
          </transform>
        </group>
        <group>
          <transform translation="7.27214288 6.844213599999999 0.4524038799999999">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="4.85419715 7.05602084 7.54259299">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="7.42887997 3.24881434 7.113813900000001">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="3.31733956 3.887611660000001 0.55936571">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="0.22524438000000002 7.70878862 4.8447585">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="3.30504681 7.55722728 3.9666649900000004">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="7.2678278 3.08238005 3.57983726">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="3.63911864 2.7818099 3.7150427000000006">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="1.70636258 1.88422088 7.328734940000001">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="5.87214761 1.33563982 0.41349450000000015">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="1.44587151 5.19058849 1.3590027600000003">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="5.73976375 4.846200620000001 7.01219188">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="1.83723071 1.50496858 3.84987136">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="5.48252445 1.23428633 3.5302209500000004">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="1.65082184 5.77228634 3.75912263">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="6.41792756 5.13255098 4.21034961">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="2.48783105 7.16901106 1.69861795">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="5.70934851 7.23527619 2.7286867">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="1.3737622 3.34809613 2.6864818200000005">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="5.39060249 3.54549408 1.9203795700000001">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="2.38009974 0.15351905999999998 5.97585699">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="5.62122425 7.05248005 5.231536300000001">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="1.7152599 3.57581105 5.582348650000001">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="5.09631028 3.54118651 5.37496617">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="0.20446856000000002 1.4211247999999999 2.21151331">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="3.79301295 1.5768416 1.56386521">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="7.05799451 5.15162565 1.7934224200000002">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="4.04249808 5.23677965 3.2574229">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="7.0073241600000005 1.35790415 5.4894199">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="4.1577813 1.6075727900000003 6.000368100000001">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="0.74687556 5.99643882 6.43868953">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
          <transform translation="3.39771643 5.507479450000001 6.213828870000001">
            <shape>
              <appearance>
                <material diffuseColor="0.784 0.502 0.2"/>
              </appearance>
              <sphere radius="1.32"/>
            </shape>
          </transform>
        </group>
      </group>
    </transform>
  </transform>
</scene>
<!--End of Inserted Scene-->

</X3D>
</div><script>
const rotation = document.getElementById("atoms-rotation");
// get the viz div
const scene = document.getElementsByTagName("x3d")[0];

// stop rotating when the scene is clicked
// if its a long-press, the rotation should continue afterwards
// otherwise, toggle the rotation
let rotating = true;
let start;
let was_rotating_before_click;

scene.addEventListener("mousedown", function() {
    was_rotating_before_click = rotating;
    rotating = false;
    start = Date.now();

    scene.addEventListener("mouseup", function() {
        if (Date.now() - start < 200) {
            // short click: toggle rotation
            rotating = !rotating;
        } else {
            // long click: resume previous rotation
            rotating = was_rotating_before_click;
        }
    });
});

window.setInterval(function() {
    if (!rotating) return;
    // turn `x, y, z, angle` into `x, y, z, angle + 0.1`
    const parts = rotation.getAttribute("rotation").split(", ");
    parts[3] = String(parseFloat(parts[3]) + 0.007);
    rotation.setAttribute("rotation", parts.join(", "));
}, 25);
</script>
